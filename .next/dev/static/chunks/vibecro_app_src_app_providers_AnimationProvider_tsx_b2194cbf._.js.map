{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/CJPR%20TTG/Vibecro/vibecro.app/src/app/providers/AnimationProvider.tsx"],"sourcesContent":["// frontend/src/app/providers/AnimationProvider.tsx (Version garantie)\r\n'use client';\r\n\r\nimport { motion } from 'framer-motion';\r\nimport { ReactNode, createContext, useContext, useEffect, useState } from 'react';\r\n\r\nconst pageVariants = {\r\n  initial: {\r\n    opacity: 0,\r\n    y: 10,\r\n  },\r\n  enter: {\r\n    opacity: 1,\r\n    y: 0,\r\n    transition: {\r\n      duration: 0.6,\r\n      ease: [0.16, 1, 0.3, 1],\r\n    },\r\n  },\r\n  exit: {\r\n    opacity: 0,\r\n    y: 10,\r\n    transition: {\r\n      duration: 0.3,\r\n    },\r\n  },\r\n};\r\n\r\n// Créer le contexte de thème\r\ntype Theme = 'light' | 'dark';\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext);\r\n  if (!context) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface AnimationProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport default function AnimationProvider({ children }: AnimationProviderProps) {\r\n  const [theme, setTheme] = useState<Theme>('light');\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Récupérer le thème sauvegardé ou utiliser la préférence système\r\n    const savedTheme = localStorage.getItem('theme') as Theme;\r\n    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n    \r\n    const initialTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');\r\n    setTheme(initialTheme);\r\n    \r\n    // Appliquer le thème au HTML\r\n    if (initialTheme === 'dark') {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n    \r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === 'light' ? 'dark' : 'light';\r\n    setTheme(newTheme);\r\n    localStorage.setItem('theme', newTheme);\r\n    \r\n    // Mettre à jour la classe sur le HTML\r\n    if (newTheme === 'dark') {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n    \r\n    console.log('Theme toggled to:', newTheme);\r\n  };\r\n\r\n  if (!mounted) {\r\n    return <div className=\"w-full\">{children}</div>;\r\n  }\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      <motion.div\r\n        variants={pageVariants}\r\n        initial=\"initial\"\r\n        animate=\"enter\"\r\n        exit=\"exit\"\r\n        className=\"w-full\"\r\n      >\r\n        {children}\r\n      </motion.div>\r\n    </ThemeContext.Provider>\r\n  );\r\n}"],"names":[],"mappings":";;;;;;;AAGA;AACA;;;AAJA,sEAAsE;AACtE;;;AAKA,MAAM,eAAe;IACnB,SAAS;QACP,SAAS;QACT,GAAG;IACL;IACA,OAAO;QACL,SAAS;QACT,GAAG;QACH,YAAY;YACV,UAAU;YACV,MAAM;gBAAC;gBAAM;gBAAG;gBAAK;aAAE;QACzB;IACF;IACA,MAAM;QACJ,SAAS;QACT,GAAG;QACH,YAAY;YACV,UAAU;QACZ;IACF;AACF;AAUA,MAAM,6BAAe,IAAA,gMAAa,EAA+B;AAE1D,SAAS;;IACd,MAAM,UAAU,IAAA,6LAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANgB;AAYD,SAAS,kBAAkB,EAAE,QAAQ,EAA0B;;IAC5E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2LAAQ,EAAQ;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2LAAQ,EAAC;IAEvC,IAAA,4LAAS;uCAAC;YACR,kEAAkE;YAClE,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,oBAAoB,OAAO,UAAU,CAAC,gCAAgC,OAAO;YAEnF,MAAM,eAAe,cAAc,CAAC,oBAAoB,SAAS,OAAO;YACxE,SAAS;YAET,6BAA6B;YAC7B,IAAI,iBAAiB,QAAQ;gBAC3B,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACzC,OAAO;gBACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC5C;YAEA,WAAW;QACb;sCAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,WAAW,UAAU,UAAU,SAAS;QAC9C,SAAS;QACT,aAAa,OAAO,CAAC,SAAS;QAE9B,sCAAsC;QACtC,IAAI,aAAa,QAAQ;YACvB,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;QAEA,QAAQ,GAAG,CAAC,qBAAqB;IACnC;IAEA,IAAI,CAAC,SAAS;QACZ,qBAAO,+MAAC;YAAI,WAAU;sBAAU;;;;;;IAClC;IAEA,qBACE,+MAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBACjD,cAAA,+MAAC,yNAAM,CAAC,GAAG;YACT,UAAU;YACV,SAAQ;YACR,SAAQ;YACR,MAAK;YACL,WAAU;sBAET;;;;;;;;;;;AAIT;IAtDwB;KAAA"}}]
}